#!/usr/bin/env sh
case $1 in
    bc)
        pgrep -x bc || $TERMINAL -name calc -e bc -q
        sway "[instance=calc] scratchpad show; [instance=calc] move position center";;
    blueman-applet)
        pgrep -x "blueman-applet" && killall blueman-applet || setsid blueman-applet &;;
    blueman-manager)
        pgrep -x "blueman-manager" && killall blueman-manager || setsid blueman-manager &;;
    bluetooth)
        rfkill unblock 0
        pgrep -x bluetoothctl || ($TERMINAL --class bluetooth -e bluetoothctl && sleep .1)
        sway "[instance=bluetooth] scratchpad show; [instance=bluetooth] move position center";;
    calendar)
        wmctrl -l | grep -q "pointer Google Calendar" || \
        (gtk-launch calendar; sleep 1)
        sway "[instance=crx_kjbdgfilnfhdoflbpgamdcdgpehopbep] scratchpad show; \
        [instance=crx_kjbdgfilnfhdoflbpgamdcdgpehopbep] move position center";;
    cmus)
        # pgrep -x cmus || $TERMINAL -a cmus -e cmus
        pgrep -x cmus || $TERMINAL --class cmus -e cmus
        hyprctl dispatch workspace 8;;
        # sway "[app_id=cmus] scratchpad show; [app_id=cmus] move position center";;
    discord)
        pgrep -x discord || setsid discord &
        sway "workspace 9; [class=discord] focus";;
    espanso)
        pgrep -x espanso && (espanso stop; notify-send -t 1000 "Espanso stopped.") || \
        setsid espanso daemon &;;
    ferdium)
        pgrep -x ferdium || gtk-launch ferdium &
        # sway "workspace 9; [class=Ferdium] focus";;
        hyprctl dispatch workspace 9;;
    gmail)
        wmctrl -l | grep -q "pointer Gmail" || \
        (gtk-launch gmail; sleep 1)
        sway "[instance=crx_fmgjjmmmlfnkbppncabfkddbjimcfncm] scratchpad show; \
        [instance=crx_fmgjjmmmlfnkbppncabfkddbjimcfncm] move position center";;
    habitica)
        wmctrl -l | grep -q "pointer Habitica" || (gtk-launch habitica; sleep 1)
        sway "[instance=crx_pdigihnmoiplkhocekidmdcmhchhdpjo] scratchpad show; \
            [instance=crx_pdigihnmoiplkhocekidmdcmhchhdpjo] move position center";;
    mailspring)
        pgrep -x mailspring || setsid mailspring &
        sway "workspace 9; [class=Mailspring] focus";;
    megasync)
        QT_QPA_PLATFORM='xcb' 
        pgrep -x "megasync" && killall megasync || setsid megasync &;;
    music)
        # pgrep -x "spotify|cmus|spotifyd" && playerctl --player=spotify,cmus,spotifyd play-pause;;
        playerctl --player=spotify,cmus,spotifyd,%any play-pause;;
    music-player)
        sway "[instance=spotify] scratchpad show; [instance=spotify] move \
        position center; [app_id=cmus] scratchpad show; [app_id=cmus] move \
        position center"
        ;;
    neomutt)
        # pgrep -x cmus || $TERMINAL -a cmus -e cmus
        pgrep -x neomutt || $TERMINAL --class neomutt -e neomutt
        hyprctl dispatch workspace 6;;
        # sway "[app_id=cmus] scratchpad show; [app_id=cmus] move position center";;
    nextcloud) pgrep -x "nextcloud" && killall nextcloud || setsid nextcloud &
            ;;
    nm-applet)
        pgrep -x "nm-applet" && killall nm-applet || setsid nm-applet &;;
    notes)
        # pgrep -x emacs || $TERMINAL --class notes -e emacs -nw ~/documents/org/main.org
        pgrep -x emacs || emacs ~/documents/org/main.org
        hyprctl dispatch workspace 7;;
        # sway "[app_id=cmus] scratchpad show; [app_id=cmus] move position center";;
    pavucontrol)
        pgrep -x "pavucontrol" || setsid pavucontrol &
        sway "[title=pavucontrol] scratchpad show; [title=pavucontrol] move position center";;
    # picom)
    #     pgrep -x picom && killall picom || setsid picom;;
    pulsemixer)
        pgrep -x pulsemixer || ($TERMINAL --class pulsemixer -e pulsemixer && sleep .20)
        sway "[instance=pulsemixer] scratchpad show; [instance=pulsemixer] move position center";;
    # redshift)
    #     pgrep -x "redshift" && (killall redshift; notify-send -t 1000 "Killing redshift.") || \
    #     (notify-send -t 1000 "Starting Redshift."; setsid redshift -b 1:1);;
    # redshift-dark)
    #     pgrep -x "redshift" && (killall redshift; notify-send -t 1000 "Killing redshift.") || \
    #     (notify-send -t 1000 "Starting Redshift."; setsid redshift -b 1:.5);;
    gammastep)
        pgrep -x "gammastep" && (killall gammastep; notify-send -t 1000 "Killing gammastep") || \
        (notify-send -t 1000 "Starting Gammastep."; setsid gammastep);;
    signal)
        pgrep -x signal-desktop || HOME=$HOME/.local/xdg-garbage setsid signal-desktop %u > /dev/null 2>&1 &
        # sway "workspace 9; [class=Signal] focus";;
        hyprctl dispatch workspace 9;;
    spotify)
        (wmctrl -l | grep -q "pointer Spotify") || gtk-launch spotify-launcher
        # sway "[instance=spotify] scratchpad show; [instance=spotify] move position center";;
        hyprctl dispatch workspace 8;;
    spotify-web)
        wmctrl -l | grep -q "pointer Spotify" || (gtk-launch spotify; sleep 1)
        sway "[instance=crx_pjibgclleladliembfgfagdaldikeohf] scratchpad show; [instance=crx_pjibgclleladliembfgfagdaldikeohf] move position center";;
    spotifyd)
        pgrep -x spotifyd && (notify-send -t 1000 "Killing spotifyd."; killall spotifyd) || \
        (notify-send -t 1000 "Starting spotifyd."; setsid spotifyd &);;
    spotify-tui)
        pgrep -x "spotifyd" || spotifyd &
        pgrep -x spt || ($TERMINAL -a spt -e spt && sleep .1)
        sway "[app_id=spt] scratchpad show; [app_id=spt] move position center";;
    tmux);;
    todoist)
        wmctrl -l | grep -q "pointer Todoist" || (gtk-launch todoist; sleep 1)
        sway "[instance=crx_elldfnmogicegdcphgljaoaklkpcnbnn] scratchpad show; [instance=crx_elldfnmogicegdcphgljaoaklkpcnbnn] move position center";;
    torbrowser)
        wmctrl -l | grep -q "Tor Browser" || setsid torbrowser-launcher &
        sway "workspace 7";;
    whatsapp)
        wmctrl -l | grep -q "pointer WhatsApp" || (gtk-launch whatsapp; sleep 1)
        sway workspace 9;;
        # pgrep whatsapp || flatpak run io.github.mimbrero.WhatsAppDesktop
        # sway workspace 9;;
    # *) echo "Invalid argument.";;
esac
