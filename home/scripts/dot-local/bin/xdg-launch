#!/usr/bin/bash

# prevent nested $HOME/.local/xdg-launch/.local/xdg-launch
# situations. even though the ~/.local/xdg-launch/.local
# symlink nominally makes this a non, issue, trimming
# makes firefox/zen happy (xdg-open 'https:google.com'
# errors out unless the new firefox/zen instance is launched
# in the exact same dir as the parent).
REAL_HOME="${HOME%/.local/xdg-launch}"

mkdir -p "$REAL_HOME/.local/xdg-launch"
HOME="$REAL_HOME/.local/xdg-launch"
exec "$@"
